function upAppList(t){$("#editAppTarget").html(""),$.get("/api/getApps",{cat:t},function(t,a){$.each(t.apps,function(t,a){buildInputGroup(a)}),$("#editAppTarget").append('<br><button class="btn btn-accent" onclick="updateApps()">Save</button>'),$('[data-toggle="tooltip"]').tooltip()})}function buildInputGroup(t){var a=$("#catSelectApps > option").clone(),e=t.AppId+"cat";$("#editAppTarget").append('<div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span><input data-toggle="tooltip" title="Double Click to Edit" class="form-control editApp" value="'+t.Application+'" id="'+t.AppId+'app" data-id="'+t.AppId+'" readOnly="true" ondblclick="this.readOnly = null; $(this).addClass(\'upapp\')"><select class="form-control appCatSelect" id="'+e+'" onchange="$(\'#'+t.AppId+'app\').addClass(\'upapp\')"></select><span class="input-group-addon"><i class="glyphicon glypicon-trash"></i></span></div>'),$("#"+e).append(a),$("#"+e).val($("#catSelectApps").val())}function addCategory(){$.post("/adminTools/addCategory",{cat:$("#newCat").val()},function(t,a){appendCat(t.cat,t.catId),$.notify({title:"<strong>Success!</strong>",message:t.message,icon:"/images/kip.gif"},{icon_type:"image",type:"success"})}).fail(function(t){$.notify({title:"<strong>Warning!</strong>",message:t.responseJSON.message+". Category not added"},{type:"danger"})})}function appendCat(t,a){var e='<option value="'+a+'">'+t+"</option>";$("#catSelect").append(e),$("#catSelectApps").append(e);var n='<div class="input-group"><span class="input-group-addon" data-toggle="tooltip" title="Click to Edit" onclick="enableCatEdit('+a+')"> <i class="glyphicon glyphicon-edit"></i></span><input class="form-control" value="'+t+'" id="'+a+'" disabled> </div>';$("#cats").append(n)}function addApp(){$.post("/adminTools/addApplication",{cat:$("#catSelectAddApp").val(),app:$("#newApp").val()},function(t,a){$.notify({title:"<strong>Success!</strong>",message:t.message},{type:"success"})}).fail(function(t){$.notify({title:"<strong>Warning!</strong>",message:t.responseJSON.message+". Application not added"},{type:"danger"})})}function updateCats(){var t=$(".upcats");$.each(t,function(t,a){$.post("/adminTools/updateCat",{catId:a.id,cat:a.value},function(){$.notify({title:"<strong>Success!</strong>",message:a.value+" was updated"},{type:"success"})}).fail(function(){$.notify({title:"<strong>Warning!</strong>",message:a.value+"was not updated"},{type:"danger"})})})}function updateApps(){var t=$(".upapp");$.each(t,function(t,a){$.post("/adminTools/updateApp",{appId:a.dataset.id,app:a.value,catId:$("#"+a.dataset.id+"cat").val()},function(t,e){$.notify({title:"<strong>Success!</strong>",message:a.value+" was updated"},{type:"success"}),upAppList($("#catSelectApps").val())}).fail(function(){$.notify({title:"<strong>Warning!</strong>",message:a.value+"was not updated"},{type:"danger"})})})}function popCatDelModal(t,a){$("#catToDel").html(a),$("#delCatBtn").data("cat",t)}function delCat(){var t=$("#delCatBtn").data("cat");$.post("/adminTools/delCat",{catId:t},function(t,a){$.notify({title:"<strong>Success!</strong>",message:t.message},{type:"success"})}).fail(function(t,a){$.notify({title:"<strong>Warning!</strong>",message:t.responseJSON.message},{type:"danger"})})}$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip()});